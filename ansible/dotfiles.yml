---
- name: Setup dotfiles
  hosts: 127.0.0.1

  tasks:
    - name: Symlink dots
      file:
        src: "/home/adin/.dotfiles/dots/{{ item.src }}"
        dest: "{{ item.dest }}"
        state: link
        force: true
      with_items:
        - src: "tmux.conf"
          dest: "/home/adin/.tmux.conf"

        - src: "nvim/init.lua"
          dest: "/home/adin/.config/nvim/init.lua"

        - src: "nvim/lua"
          dest: "/home/adin/.config/nvim/lua"

        - src: "nvim/after"
          dest: "/home/adin/.config/nvim/after"

        - src: "nvim/config.vim"
          dest: "/home/adin/.config/nvim/config.vim"

        - src: "nvim/coc-settings.json"
          dest: "/home/adin/.config/nvim/coc-settings.json"

        - src: "zsh/zshrc"
          dest: "/home/adin/.zshrc"

        - src: "Xresources"
          dest: "/home/adin/.Xresources"

        - src: "xprofile"
          dest: "/home/adin/.xprofile"

        - src: "lazygit.yml"
          dest: "/home/adin/.config/lazygit/config.yml"

        - src: "bpytop.conf"
          dest: "/home/adin/.config/bpytop/bpytop.conf"

        - src: "default.omp.json"
          dest: "/home/adin/.default.omp.json"

        - src: "pudb.conf"
          dest: "/home/adin/.config/pudb/pudb.cfg"

        - src: "ptpython.py"
          dest: "/home/adin/.config/ptpython/config.py"

        - src: "gitattributes"
          dest: "/home/adin/.gitattributes"

        - src: "golangci.yml"
          dest: "/home/adin/.golangci.yml"

        - src: "i3.config"
          dest: "/home/adin/.i3/config"

        - src: "i3blocks.conf"
          dest: "/home/adin/.i3blocks.conf"

        - src: "config.ssh"
          dest: "/home/adin/.ssh/config"

        - src: "direnvrc"
          dest: "/home/adin/.direnvrc"

        - src: "taskrc"
          dest: "/home/adin/.taskrc"

        - src: "lightdm.conf"
          dest: "/etc/lightdm/lightdm.conf"

        - src: "lightdm-webkit2-greeter.conf"
          dest: "/etc/lightdm/lightdm-webkit2-greeter.conf"

        - src: "alacritty.toml"
          dest: "/home/adin/.config/alacritty/alacritty.toml"

        - src: "yamllint.yml"
          dest: "/home/adin/.config/yamllint/config"

        - src: "locale.conf"
          dest: "/etc/locale.conf"

        - src: "gitignore"
          dest: "/home/adin/.gitignore"

        - src: "htmlhintrc"
          dest: "/home/adin/.htmlhintrc"

        - src: "ignore"
          dest: "/home/adin/.ignore"

        - src: "ripgreprc"
          dest: "/home/adin/.ripgreprc"

        - src: "markdownlint.yaml"
          dest: "/home/adin/.markdownlint.yaml"

        - src: "shellcheckrc"
          dest: "/home/adin/.shellcheckrc"

        - src: "broot.toml"
          dest: "/home/adin/.config/broot/conf.toml"

        - src: "gitconfig"
          dest: "/home/adin/.gitconfig"

        - src: "terraformrc"
          dest: "/home/adin/.terraformrc"

        - src: "neofetch.conf"
          dest: "/home/adin/.config/neofetch/config.conf"

        - src: "rofi.rasi"
          dest: "/home/adin/.config/rofi/config.rasi"

        - src: "navi.yaml"
          dest: "/home/adin/.config/navi/config.yaml"

        - src: "default.pa"
          dest: "/home/adin/.config/pulse/default.pa"

    - name: locale-gen
      shell: locale-gen

    - name: Symlink Misc
      file:
        src: "{{ item.src }}"
        dest: "{{ item.dest }}"
        state: link
        force: true
      tags: symlink-misc
      with_items:
        - src: ~/.dotfiles/scripts/on-modify-timewarrior.py
          dest: /home/adin/.task/hooks/on-modify-timewarrior.py
